var video=document.getElementById("bgvid");var clickonvideo=document.getElementById("bgvid");var btnPlayPause=document.getElementById('play-pause');var playButton=document.getElementById("play-pause");var muteButton=document.getElementById("mute");var fullScreenButton=document.getElementById("full-screen");var seekBar=document.getElementById("seek-bar");var volumeBar=document.getElementById("volume-bar");var scrollVideoStatus=false;if(video){jQuery(".bgvideo").click(function(){if(video.paused==true){changeButtonType(btnPlayPause,'play');video.play();}else{video.pause();changeButtonType(btnPlayPause,'pause');}});jQuery('.video_header #bgvid').click(function(){if(video.paused==true){changeButtonType(btnPlayPause,'play');video.play();}else{video.pause();changeButtonType(btnPlayPause,'pause');}});playButton.addEventListener("click",function(){if(video.paused==true){changeButtonType(btnPlayPause,'play');video.play();}else{video.pause();changeButtonType(btnPlayPause,'pause');}
scrollVideoStatus=video.paused;});clickonvideo.addEventListener("click",function(event){if(jQuery("#video-controls").has(event.target).length==0&&!jQuery("#video-controls").is(event.target)){if(video.paused==true){changeButtonType(btnPlayPause,'pause');}else{changeButtonType(btnPlayPause,'play');}
scrollVideoStatus=video.paused;}});var vid=document.getElementById("bgvid");vid.ontimeupdate=function(){var percentage=(vid.currentTime/vid.duration)*100;jQuery("#custom-seekbar span").css("width",percentage+"%");};jQuery("#custom-seekbar").on("click",function(e){var offset=jQuery(this).offset();var left=(e.pageX-offset.left);var totalWidth=jQuery("#custom-seekbar").width();var percentage=(left/totalWidth);var vidTime=vid.duration*percentage;vid.currentTime=vidTime;});muteButton.addEventListener("click",function(){if(video.muted==false){video.muted=true;changeButtonType(muteButton,'unmute');}else{video.muted=false;changeButtonType(muteButton,'mute');}});fullScreenButton.addEventListener("click",async function(){try{if(video.requestFullscreen){await video.requestFullscreen();}else if(video.mozRequestFullScreen){await video.mozRequestFullScreen();}else if(video.webkitRequestFullscreen){await video.webkitRequestFullscreen();}
if(video.webkitEnterFullscreen){await video.webkitEnterFullscreen();}}catch(error){alert(error)}});jQuery(window).scroll(function(){if(scrollVideoStatus===false&&jQuery(window).scrollTop()>150){if(window.location.hash){var hash=window.location.hash.substring(1);if(hash!="video"){if(video.paused==false){console.log("Do pause scroll");changeButtonType(btnPlayPause,'pause');video.pause();}}
else{if(video.paused==true){changeButtonType(btnPlayPause,'play');video.play();}}}}});if(seekBar){seekBar.addEventListener("change",function(){var time=video.duration*(seekBar.value/100);video.currentTime=time;});}
video.addEventListener("timeupdate",function(){var value=(100/video.duration)*video.currentTime;if(seekBar){seekBar.value=value;}});if(seekBar){seekBar.addEventListener("mousedown",function(){video.pause();});seekBar.addEventListener("mouseup",function(){video.play();scrollVideoStatus=video.paused;});}
function changeButtonType(btn,value){btn.className=value;if(btn==btnPlayPause){if(value=="pause"){jQuery(".bgvideo").removeClass("d-none");jQuery(video).closest("section").removeClass("video-status-play");}
else{jQuery(".bgvideo").addClass("d-none");jQuery(video).closest("section").addClass("video-status-play");}}}}